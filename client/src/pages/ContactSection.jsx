import { useRef, useState } from "react";
import emailjs from "@emailjs/browser";
import { motion } from "framer-motion";
import { Link } from "react-router-dom";
import {
	Mail,
	User,
	MessageSquare,
	Send,
	MessageCircleQuestionMark,
	ArrowRight,
} from "lucide-react";
import Alerts from "../ui/Alerts";

export default function ContactSection() {
	const [form, setForm] = useState({ name: "", email: "", message: "" });
	const formRef = useRef();
	const [loading, setLoading] = useState(false);
	const [status, setStatus] = useState(null);

	const replyMessages = {
		support:
			"We have received your support ticket. Our team is currently reviewing it and will get back to you within 24 hours.",
		bug: "Thank you so much for the heads up! We've logged this bug with our engineering team. We appreciate you helping us make the app better.",
		feature:
			"That sounds like a great idea! I've passed your suggestion directly to our product team for our next roadmap review.",
		love: "Wow, you just made our day! We shared your message with the whole team. Thank you for being an awesome part of our community.",
		other:
			"We have received your message and routed it to the appropriate team member. We'll be in touch shortly.",
		default: "Thanks for reaching out! We'll get back to you shortly.",
	};

	const currentReplyMessage =
		replyMessages[form.subject] || replyMessages.default;

	const sendEmail = (e) => {
		e.preventDefault();
		setLoading(true);
		setStatus(null);

		const SERVICE_ID = "service_umuz4f3";
		const TEMPLATE_ADMIN = "template_tsbhnim";
		const TEMPLATE_USER = "template_44pf72s";
		const PUBLIC_KEY = "VSuB8cLKQ6u5BQFuj";

		emailjs
			.sendForm(SERVICE_ID, TEMPLATE_ADMIN, formRef.current, {
				publicKey: PUBLIC_KEY,
			})
			.then(() => {
				emailjs.send(SERVICE_ID, TEMPLATE_USER, {
					name: form.name,
					email: form.email,
				});

				setLoading(false);
				setStatus("success");
				e.target.reset();
				setForm({ name: "", email: "", message: "", subject: "" });
			})
			.catch((err) => {
				setLoading(false);
				setStatus("error");
				console.error("FAILED...", err.text);
			});
	};

	const handleChange = (e) => {
		setForm({ ...form, [e.target.name]: e.target.value });
	};

	const showMessage =
		status === "success"
			? "Message sent!"
			: status === "error"
				? "Failed to send message"
				: null;

	return (
		<>
			{showMessage && (
				<Alerts
					message={showMessage}
					type={status}
					onClose={() => setStatus(null)}
				/>
			)}

			<div className="bricolage-grotesque relative min-h-screen w-full flex items-center justify-center bg-[#F3F4F6] overflow-hidden p-6 font-sans">
				<div className="absolute top-0 left-0 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob" />
				<div className="absolute top-0 right-0 w-96 h-96 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000" />
				<div className="absolute -bottom-8 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000" />

				<div className="relative z-10 w-full max-w-6xl grid lg:grid-cols-2 gap-12 items-start">
					{/* --- LEFT COLUMN --- */}
					<motion.div
						initial={{ opacity: 0, x: -50 }}
						animate={{ opacity: 1, x: 0 }}
						transition={{ duration: 0.6 }}
						className="space-y-8 pt-10"
					>
						<div>
							<h2 className="text-5xl font-bold tracking-tight text-slate-900 mb-4">
								Let's make your{" "}
								<span className="text-transparent bg-clip-text bg-gradient-to-r from-violet-600 to-pink-800">
									home shine.
								</span>
							</h2>

							<p className="text-lg text-slate-600 max-w-md mb-8">
								From daily fixes to major makeovers — find trusted professionals
								ready to take care of your home with comfort, safety, and
								confidence.
							</p>
						</div>

						{/* LIST CONTAINER WITH SVGS */}
						<div className="w-full lg:w-auto">
							<ul className="relative text-lg text-slate-800 font-medium py-10">
								<svg
									aria-hidden="true"
									viewBox="0 0 11 1300"
									width="3"
									preserveAspectRatio="none"
									className="hidden sm:flex absolute h-full left-8 sm:left-[1.6rem] top-0 w-[3px] fill-pink-500/20"
								>
									<g bufferedRendering="static">
										<path d="M4.85 35.708c-.029 1.04-1.783 17.58-1.35 26.79.018.37-.122 11.97-.146 12.33-.048.7-.174 1.76-.13 2.06 1.458 9.7-.138 20.01.212 29.8.348 9.71.035 19.24-.08 28.79-.06 4.81.034 9 .402 13.18.029.34.141.71.128.86-.803 10.56.909 22.39-.561 32.63-.278 1.93-.178 4.38-.143 6.66.346.51.73 1.18.558 3.66-.146 2.1-.456 3.84-.648 5.88-.244 2.58-.718 6.03.087 7.52.683 1.25.299-4.71 1.013-5.18-.171 2.88-.238 6.11-.535 8.47-.406 3.21-.487 5.99-.22 9.57.123 1.65.18 4.45.01 5.58-1.166 7.74-.01 15.7-.135 23.5-.107 6.53.723 3.97 1.428 3.05-.191 1.41-.286 2.41-.428 3.09-.47 2.27-1.764 2.53-.661 8.48-.645 4.25-.795 9.56-1 14.69-.243 6.03-.045 6.8 1.369 6 .042-.22.087-.64.123-.62.104.07.203.31.305.49l.085.72-.116-.49c-.131-.13-.263-.16-.396-.1-.349 3.27-.766 6.17-1.221 9.09-1.064 6.85-.719 12.261.836 15.806-1.469 9.731-1.469 9.731.517 17.434-.687 4.97-1.73 9.437-1.557 16.304.102 4.087-.071 7.494-.133 11.182-.112 6.645-.139 13.223-.478 19.763-.13 2.518.404 3.623.771 4.689l.111-.589-.101.635c.61 6.199-1.021 10.777-.409 16.977-1.128 9.018-.299 14.884 1.371 20.2-1.341 3.734-1.92 9.221-1.453 15.964.392 5.702-.804 12.726.596 17.467.445 1.504.175 4.296-.166 5.807-1.164 5.16-.121 6.5.471 8.665.112 4.512-1.363 3.643-1.019 8.56.326 4.676 1.162 6.18 1.96 7.612.066.118.136.177.202.269.47.66 1.103 1.092.68 4.898-.274 2.452-.777 3.243-1.202.405-.221-1.471-.438-3.387-.819-2.047-.326 1.151-.349 3.708-.169 5.154.367 2.968.348 5.002-.1 7.755-.574 3.532-.494 8.535-.693 12.884-.11 2.393.338 2.838.68 3.237.181 1.092.363 1.085.546.006.231 1.55.197 2.642-.156 3.499-.976 2.367-1.891 4.166-1.196 12.366.298 3.512-.184 9.031-.331 13.622-.021.654-.236 1.459-.206 1.772.776 8.58-.089 17.121.001 25.655.019 1.805.247 2.544.571 2.355.135-.242.194-1.969.409-.628l-.37.902c-.233 1.923-.487 3.885-.332 6.331.318 5.022.205 9.456-.307 14.145-.367 3.374-.677 7.71.233 10.823.25.857.068 1.831-.045 2.831-.533 4.781.019 5.54.647 4.192.637-1.36 1.236 1.047 1.883-1.373-.068 1.615-.056 2.505-.129 2.832-.675 3.073-2.203.163-2.147 7.795.037 5.134-.871 9.652-.208 15.015.204 1.648-.149 3.544-.253 5.317-.536 9.227-.525 9.371 1.022 15.943-1.033 6.605-1.331 14.06-.846 22.379.113 1.929-.123 2.701-.345 3.59-.046-.177-.099-.523-.138-.484-.121.111-.116.582.006 1.19.436 3.904 1.227 7.063.348 12.622-.518 3.263-.144 8.56-.48 12.942-.231 3.021.233 6.48 1.053 6.284.459-1.739.93-2.688 1.541-.732-.567.359-1.04.654-1.513.948-.587 3.649-.846 8.403-1.28 12.517-.655 6.212-.489 13.465.426 19.455l.082.706-.106-.595c-.356 1.511-.659 4.002-.427 5.834.839 6.624.036 12.713-.076 19.01-.408 1.766-.351 3.545-.005 5.336.004 2.839.008 5.677.01 8.515-.144 1.288-.104 1.589.14.778.125.288.361.785.357.844-.489 8.102-.884 16.185-.063 24.386-.759 3.597-.452 6.232.245 8.626.076.255.146 1.131.125 1.595-.824 17.991-.888 26.885-.27 39.12.053 1.073.193 2.871.127 3.159-.703 2.969-.506 5.369-.249 9.659.176 2.956-.287 7.534.314 11.17.193 1.177.018 2.949-.14 4.244-.923 7.553-.827 15.237-.311 23.582.189 3.06.21 7.37-.148 10.862-.043-.196-.093-.582-.129-.549-.119.111-.11.549.023 1.118-.072 4.977.559 10.705-.528 14.642-.076.275-.078 2.021-.065 2.04 1.359 1.982.075 8.548.757 12.772.592 3.663-.454 10.457-.212 15.336.346 6.971-.346 14.557.523 20.985.063.471.044 1.589-.014 2.165-.799 7.73.133 16.95-.729 24.73-.196 1.76-.217 4.56-.142 6.7.427 12.29.084 24.78.408 37.18.177 6.75-.027 14.31-.173 21.21-.13 6.17.044 11.99.02 17.95-.049 12.03.104 24.06-.082 36.11-.085 5.59.04 11.44.167 16.89.411 17.6.551 35.27.592 52.92.035 14.46.592 28.43.868 42.61.292 15.04 1.382 28.55 1.94 42.96.085 2.22.185 4.55.389 6.48.514 4.88 1.471 4.73 1.929-.29.184-2 .371-4.42.335-6.54-.27-15.63.168-31.13.283-46.68.169-22.78-.419-45.36-.504-68.05-.114-29.75-.708-59.34-.504-89.28.129-18.9-.092-38.15-.019-57.19.057-15.13-.175-30.353.322-45.453.361-10.921-.337-21.816-.17-32.861.532-35.484.004-71.073.294-106.596.222-27.159-.062-54.318-.05-81.477.007-17.435.382-34.876.345-52.304-.031-15.257-.035-30.566.02-45.771.094-25.936-.333-51.976.336-77.847.098-3.773.101-7.638.102-11.464.016-32.031-.19-64.121.085-96.086.309-36.184.154-72.374.415-108.499.136-19.004.053-38.139.416-56.986.404-21.008.031-42.128.456-62.908.483-23.6.509-47.32.622-70.85.2-41.9.739-83.75.698-125.69-.005-6.32.272-12.82.271-19.34-.001-6.14-.066-11.83-.712-17.48-.809-7.09-1.993-22.11-1.993-14.86.001 13.62-2.073 20.21-2.445 33.78z"></path>{" "}
									</g>
								</svg>

								{[
									"Verified & Trained Professionals",
									"Fast, Same-Day Bookings",
									"Transparent Pricing — No Hidden Fees",
									"Safe Home Service Experience",
									"24×7 Support & Hassle-Free Rebooking",
								].map((item, index) => (
									<li
										key={index}
										className="flex relative items-center py-3 pl-8 sm:pl-16 pr-7 group"
									>
										<svg
											aria-hidden="true"
											viewBox="0 0 42 43"
											width="14"
											className="w-4 h-auto shrink-0 fill-emerald-500 mr-4 mb-0.5 shadow-sm"
										>
											<g bufferedRendering="static">
												<path d="M8.581 29.619l.23-.013-.122-.109-.109.122-.251-.334c.173.021.303-.076.382-.23-.204-.011-.359-.15-.481-.32l.449-.257-.496-.158.123-.285c-.185.119-.352-.103-.271-.286l.238.103c.112-.165-.12-.56-.208-.823-.463.198-.243-.375-.033-.578-.1-.069-.208-.037-.299.04.075-.26-.185-.381-.42-.463l.218-.244c.088.063.038.147-.034.21l.38.164c-.151-.373-.3-.725-.718-.817.376-.335.029-.572.227-.917a62.19 62.19 0 01-.38-.164l.081.204-.258-.055-.055.258c-.325-.101-.129-.537.185-.427-.013-.357-.331-.327-.395-.002l-.169-.129c.207-.111.373-.268.436-.488-.114-.017-.079-.152-.06-.252l-.442-.022c.078-.311-.073-.525-.399-.51a.352.352 0 00-.059-.646l.039.299c-.252-.107-.272-.485-.583-.477.136-.166.307-.365.178-.543-.155.094-.363.208-.28.386l-.406-.232c.671-.056.284-.37.145-.727-.201.263-.756-.165-.292-.238-.106-.134-.273-.148-.252.06-.304-.244-.81-.522-.561-.919-.239-.086-.535-.567-1.324-.7-.88-.149-2.255.059-2.42.172.169.305-.471.988.317.7-.996.784.074 2.219-.146 3.207l.19.082c-.125.514.345 1.373.64 1.912.136-.215.421-.218.422.069-.568-.247-.161.677.08.204.453.755-1.328-.077.56 1.313a1.944 1.944 0 01-.041.095 24.27 24.27 0 01-.237-.103c-.041.216-.24.27-.449.257l.351.885c.07-.135.196-.185.34-.135l.062-.537.19.082c-.086.312-.118.594-.159.89-.079-.118-.181-.289-.312-.191.233.263-.127.835.355.942.389.089.179.233-.042.292.621.909.612 2.247 1.366 3.099l-.197.197c.131.23.174.552.549.687l-.171.265c.357.527.43 1.989 1.537 1.792-.267.193-.557.179-.747-.098l-.008.279.184-.034c-.043.131.05.211.176.246l-.382.229c.192.298.758.424.467.878.154.033.218.159.203.313l.299-.039-.103.237.142.062c-.078.097-.158.194-.238.291l.163.014-.006-.115.054.136c.134-.099.296.08.427.184-.428.064-.521.891-.002.789l-.035.21.394.001-.013.164c-.135-.107-.261.064-.361.182.252.005.354.281.611.151-.176.221.148.388-.084.584.456-.116.179.302-.024.384.139.315.751-.133.538.514l.231-.012c.007.301-.333 1.928.228 1.169.225.233 1.136-.034.658.566.572.51 1.774-1.112 1.596-.043a.718.718 0 01.681-.27l-.047-.414c.748-.048 1.673-1.196 2.03-1.829l.123.109c-.001-.214.169-.317.374-.345l-.114-.388c.545-.166 1.311-.976 1.465-1.565l.258.055-.06-.252c.474-.429 1.877-1.732 1.841-2.305.529.162.813-1.193 1.326-1.372.469-.092-.187-.564.233-.604.996-.632 1.623-1.719 2.263-2.63.184-.237.751-.053.366-.518.418-.065.695-.695.845-1.044.375-.056.614-.991 1.009-1.03-.057-.337.54-.41.301-.828.155.012.288-.046.361-.183l.122.109c.03-.111-.014-.2-.129-.224.073-.148.197-.242.341-.135.04-.139.065-.296-.067-.367.261-.056.58-.33.361-.577.406.246.554-.257.362-.576.113-.036.141.077.149.177.249-.18.603-.646.642-.963.49.291.229-.141.443-.372-.112-.048-.27-.096-.245-.219.217-.006.268.228.496.158-.102-.15-.022-.296.117-.401l-.231.013c.046-.206.234-.215.367-.066.157-.241.293-.845.661-.617.088-.127.05-.251-.088-.32.401.028.434-.672.798-.67l-.135-.34c.25.017.521-.342.694-.433-.213-.015-.352-.138-.298-.354 1.133-.034 1.429-1.506 2.242-2.188l.101.156c.042-.094.083-.19.124-.285l-.184.034c-.097-.448.963-.598.594-.984l.279.008c-.237-.489 1.11-.574.342-.923.633.045 1.024-.691 1.227-1.274l.17.13c.257-.4.623-.596.676-1.174l.19.082c.254-.467.715-.957 1.036-1.356a45.172 45.172 0 01-.128-.225c.173-.129.368-.149.489.043.151-.325.314-.691.363-.971.368-.116.779-.34.723-.759.67-.163.95-1.517 1.656-1.877l-.095-.041-.061.142c-.171-.051-.33-.151-.251-.333l.285.123c.121-.484.675-.462.859-.813l-.143-.062c.196-.065.259-.251.253-.454.452-.208.951-.756 1.233-1.158l.143.061c-.155-.493.226-.361.397-.787l.169.13c-.338-.404.961-.524.369-.856l.259-.338c-.367-.178.094-.385.245-.176.025-.117.04-.293.172-.265-.344-.042-.341-.381-.584-.477.351-.151-.317-.675.267-.618-.117-.105-.386-.236-.298-.354l.312.191c.022-.295.319-.204.46-.28.015-.389-.58.146-.628-.244L40.347 3c-.046-.443.18-.909.297-1.337-.019.099-.054.235.06.251.114-.191.147-.404-.053-.53-.003.425-.548-.108-.755.181-.085-.073.094-.789-.181-.754l-.082.19.143.061c-.017.114-.152.08-.252.061l-.035.21c-.179-.147-.374-.347-.168-.523l-.237-.103c-.052.317-.534.141-.238-.103l-.19-.082-.062.143c-.469-.288-.723-.813-1.123-.204-.29.088-.523-.383-.771-.107-.096-.168-.341.013-.246.175-.573.029-1.314.414-.682 1.058-.274-.178-.692.059-.844.256l.238.102c-.258.423-.805-.287-.763.46-.169-.138-.321.202-.503.121l.123.109c.089-.214.287-.072.428-.209l-.062.537a19.219 19.219 0 00-.17-.13c-.7.342-.942 1.15-1.513 1.545l.4.116c-.028.151-.339.023-.509.006l-.008.278c-.214.435-1.841 1.226-1.438 1.634l-.034.21c-.673-.222-.276.198-.111.516-.343-.225-.727.361-1 .358.215.344-.33.482-.186.821-.292-.069-.249.347-.463.42l.237.103c-.537-.304-.591.623-1.129.526-.054.216.085.34.298.355-1.015.264-1.251 1.731-2.133 2.066l.421.069c-.542.372-.966.553-.901 1.302l-.163-.014.062-.142c-.483 0-.623.704-.883.999-.507.162-.36.351-.386.763-.26-.261-1.578.908-.941 1.003-.087.171-.315.23-.517.284l.149.177c-.348.227-.138.963-.791.786.081.205-.517.383-.361.577-.359.088-.569.316-.315.597-.27.106-.765.544-1.001.751l.095.041c-.11.153-.229.355-.021.442-.628-.064.604.891-.363.576.08-.103-.098-.249-.182-.361l.054.136c-.171.022-.17.297-.205.475a52.304 52.304 0 01-.312-.191c.084.316-.235.617-.41.95l.346-.019-.117.4-.175-.244c-.002.301-.506.29-.41.556-.589-.068-.875.591-1.314.954l.142.061c-.121.205-.4.406-.572.542l.203.313a10.86 10.86 0 01-.19-.082c-.557.711-1.43 1.157-1.644 2.109-.421-.059-.405.954-.676 1.173-.092-.095-.209-.137-.279-.007.207.098.417.243.305.469l-.238-.102.11-.122-.184.033-.013-.231c-.252.058-.509.417-.566.658-.457.146-.59 1.17-1.132 1.314-.172.513-1.229.841-1.024 1.587-.196-.011-.451-.02-.429.21a2.715 2.715 0 00-.095-.041c-.004.362-.221.615-.383 1.018.943.342.2.249-.029.72a.756.756 0 00-.243-.612c-.088.124-.186.409-.307.318-.219.564-.643 1.161-.748 1.012-.575.201.108-.953-.234-1.286-.313.482-.271-.072-.135-.34-.167-.043-.432-.172-.462.026l-.095-.041.286-.271-.326-.028c.039-.155.211-.291.361-.182-.104-.484-.53-.835-.811-1.253z"></path>
											</g>
										</svg>
										{item}
										<svg
											aria-hidden="true"
											viewBox="0 0 1300 10"
											height="3"
											preserveAspectRatio="none"
											className="absolute top-0 left-0 w-full h-[3px] fill-sky-600/20"
										>
											<g bufferedRendering="static">
												<path d="M1264.29 4.85c-1.04-.029-17.58-1.783-26.79-1.35-.37.018-11.97-.122-12.33-.146-.7-.048-1.76-.174-2.06-.13-9.7 1.458-20.01-.138-29.8.212-9.71.348-19.24.035-28.79-.08-4.81-.06-9 .034-13.18.402-.34.029-.71.141-.86.128-10.56-.803-22.39.909-32.63-.561-1.93-.278-4.38-.178-6.66-.143-.51.346-1.18.73-3.66.558-2.1-.146-3.84-.456-5.88-.648-2.58-.244-6.03-.718-7.52.087-1.25.683 4.71.299 5.18 1.013-2.88-.171-6.11-.238-8.47-.535-3.21-.406-5.99-.487-9.57-.22-1.65.123-4.45.18-5.58.01-7.74-1.166-15.7-.01-23.5-.135-6.53-.107-3.97.723-3.05 1.428-1.41-.191-2.41-.286-3.09-.428-2.27-.47-2.53-1.764-8.48-.661-4.25-.645-9.56-.795-14.69-1-6.03-.243-6.8-.045-6 1.369.22.042.64.087.62.123-.07.104-.31.203-.49.305l-.72.085.49-.116c.13-.131.16-.263.1-.396-3.27-.349-6.17-.766-9.09-1.221-6.85-1.064-12.261-.719-15.806.836-9.731-1.469-9.731-1.469-17.434.517-4.97-.687-9.437-1.73-16.304-1.557-4.087.102-7.494-.071-11.182-.133-6.645-.112-13.223-.139-19.763-.478-2.518-.13-3.623.404-4.689.771l.589.111-.635-.101c-6.199.61-10.777-1.021-16.977-.409-9.018-1.128-14.884-.299-20.2 1.371-3.734-1.341-9.221-1.92-15.964-1.453-5.702.392-12.726-.804-17.467.596-1.504.445-4.296.175-5.807-.166-5.16-1.164-6.5-.121-8.665.471-4.512.112-3.643-1.363-8.56-1.019-4.676.326-6.18 1.162-7.612 1.96-.118.066-.177.136-.269.202-.66.47-1.092 1.103-4.898.68-2.452-.274-3.243-.777-.405-1.202 1.471-.221 3.387-.438 2.047-.819-1.151-.326-3.708-.349-5.154-.169-2.968.367-5.002.348-7.755-.1-3.532-.574-8.535-.494-12.884-.693-2.393-.11-2.838.338-3.237.68-1.092.181-1.085.363-.006.546-1.55.231-2.642.197-3.499-.156-2.367-.976-4.166-1.891-12.366-1.196-3.512.298-9.031-.184-13.622-.331-.654-.021-1.459-.236-1.772-.206-8.58.776-17.121-.089-25.655.001-1.805.019-2.544.247-2.355.571.242.135 1.969.194.628.409l-.902-.37c-1.923-.233-3.885-.487-6.331-.332-5.022.318-9.456.205-14.145-.307-3.374-.367-7.71-.677-10.823.233-.857.25-1.831.068-2.831-.045-4.781-.533-5.54.019-4.192.647 1.36.637-1.047 1.236 1.373 1.883-1.615-.068-2.505-.056-2.832-.129-3.073-.675-.163-2.203-7.795-2.147-5.134.037-9.652-.871-15.015-.208-1.648.204-3.544-.149-5.317-.253-9.227-.536-9.371-.525-15.943 1.022-6.605-1.033-14.06-1.331-22.379-.846-1.929.113-2.701-.123-3.59-.345.177-.046.523-.099.484-.138-.111-.121-.582-.116-1.19.006-3.904.436-7.063 1.227-12.622.348-3.263-.518-8.56-.144-12.942-.48-3.021-.231-6.48.233-6.284 1.053 1.739.459 2.688.93.732 1.541-.359-.567-.654-1.04-.948-1.513-3.649-.587-8.403-.846-12.517-1.28-6.212-.655-13.465-.489-19.455.426l-.706.082.595-.106c-1.511-.356-4.002-.659-5.834-.427-6.624.839-12.713.036-19.01-.076-1.766-.408-3.545-.351-5.336-.005-2.839.004-5.677.008-8.515.01-1.288-.144-1.589-.104-.778.14-.288.125-.785.361-.844.357-8.102-.489-16.185-.884-24.386-.063-3.597-.759-6.232-.452-8.626.245-.255.076-1.131.146-1.595.125-17.991-.824-26.885-.888-39.12-.27-1.073.053-2.871.193-3.159.127-2.969-.703-5.369-.506-9.659-.249-2.956.176-7.534-.287-11.17.314-1.177.193-2.949.018-4.244-.14-7.553-.923-15.237-.827-23.582-.311-3.06.189-7.37.21-10.862-.148.196-.043.582-.093.549-.129-.111-.119-.549-.11-1.118.023-4.977-.072-10.705.559-14.642-.528-.275-.076-2.021-.078-2.04-.065-1.982 1.359-8.548.075-12.772.757-3.663.592-10.457-.454-15.336-.212-6.971.346-14.557-.346-20.985.523-.471.063-1.589.044-2.165-.014-7.73-.799-16.951.133-24.726-.729-1.766-.196-4.565-.217-6.703-.142-12.288.427-24.779.084-37.184.408-6.749.177-14.303-.027-21.202-.173-6.18-.13-11.994.044-17.951.02-12.033-.049-24.066.104-36.112-.082-5.591-.085-11.438.04-16.892.167-17.604.411-35.268.551-52.918.592-14.466.035-28.434.592-42.612.868-15.041.292-28.552 1.382-42.965 1.94-2.217.085-4.545.185-6.475.389-4.878.514-4.728 1.471.288 1.929 2.001.184 4.421.371 6.54.335 15.636-.27 31.128.168 46.679.283 22.784.169 45.359-.419 68.052-.504 29.755-.114 59.34-.708 89.278-.504 18.9.129 38.152-.092 57.196-.019 15.126.057 30.35-.175 45.45.322 10.921.361 21.816-.337 32.861-.17 35.484.532 71.073.004 106.596.294 27.159.222 54.318-.062 81.477-.05 17.435.007 34.876.382 52.304.345 15.257-.031 30.566-.035 45.771.02 25.936.094 51.976-.333 77.847.336 3.773.098 7.638.101 11.464.102 32.031.016 64.121-.19 96.086.085 36.184.309 72.374.154 108.499.415 19.004.136 38.139.053 56.986.416 21.008.404 42.128.031 62.908.456 23.6.483 47.32.509 70.85.622 41.9.2 83.75.739 125.69.698 6.32-.005 12.82.272 19.34.271 6.14-.001 11.83-.066 17.48-.712 7.09-.809 22.11-1.993 14.86-1.993-13.62.001-20.21-2.073-33.78-2.445z"></path>
											</g>
										</svg>
									</li>
								))}

								<svg
									aria-hidden="true"
									viewBox="0 0 1300 10"
									height="3"
									preserveAspectRatio="none"
									className="absolute bottom-10 left-0 w-full h-[3px] fill-sky-600/20"
								>
									<g bufferedRendering="static">
										<path d="M1264.29 4.85c-1.04-.029-17.58-1.783-26.79-1.35-.37.018-11.97-.122-12.33-.146-.7-.048-1.76-.174-2.06-.13-9.7 1.458-20.01-.138-29.8.212-9.71.348-19.24.035-28.79-.08-4.81-.06-9 .034-13.18.402-.34.029-.71.141-.86.128-10.56-.803-22.39.909-32.63-.561-1.93-.278-4.38-.178-6.66-.143-.51.346-1.18.73-3.66.558-2.1-.146-3.84-.456-5.88-.648-2.58-.244-6.03-.718-7.52.087-1.25.683 4.71.299 5.18 1.013-2.88-.171-6.11-.238-8.47-.535-3.21-.406-5.99-.487-9.57-.22-1.65.123-4.45.18-5.58.01-7.74-1.166-15.7-.01-23.5-.135-6.53-.107-3.97.723-3.05 1.428-1.41-.191-2.41-.286-3.09-.428-2.27-.47-2.53-1.764-8.48-.661-4.25-.645-9.56-.795-14.69-1-6.03-.243-6.8-.045-6 1.369.22.042.64.087.62.123-.07.104-.31.203-.49.305l-.72.085.49-.116c.13-.131.16-.263.1-.396-3.27-.349-6.17-.766-9.09-1.221-6.85-1.064-12.261-.719-15.806.836-9.731-1.469-9.731-1.469-17.434.517-4.97-.687-9.437-1.73-16.304-1.557-4.087.102-7.494-.071-11.182-.133-6.645-.112-13.223-.139-19.763-.478-2.518-.13-3.623.404-4.689.771l.589.111-.635-.101c-6.199.61-10.777-1.021-16.977-.409-9.018-1.128-14.884-.299-20.2 1.371-3.734-1.341-9.221-1.92-15.964-1.453-5.702.392-12.726-.804-17.467.596-1.504.445-4.296.175-5.807-.166-5.16-1.164-6.5-.121-8.665.471-4.512.112-3.643-1.363-8.56-1.019-4.676.326-6.18 1.162-7.612 1.96-.118.066-.177.136-.269.202-.66.47-1.092 1.103-4.898.68-2.452-.274-3.243-.777-.405-1.202 1.471-.221 3.387-.438 2.047-.819-1.151-.326-3.708-.349-5.154-.169-2.968.367-5.002.348-7.755-.1-3.532-.574-8.535-.494-12.884-.693-2.393-.11-2.838.338-3.237.68-1.092.181-1.085.363-.006.546-1.55.231-2.642.197-3.499-.156-2.367-.976-4.166-1.891-12.366-1.196-3.512.298-9.031-.184-13.622-.331-.654-.021-1.459-.236-1.772-.206-8.58.776-17.121-.089-25.655.001-1.805.019-2.544.247-2.355.571.242.135 1.969.194.628.409l-.902-.37c-1.923-.233-3.885-.487-6.331-.332-5.022.318-9.456.205-14.145-.307-3.374-.367-7.71-.677-10.823.233-.857.25-1.831.068-2.831-.045-4.781-.533-5.54.019-4.192.647 1.36.637-1.047 1.236 1.373 1.883-1.615-.068-2.505-.056-2.832-.129-3.073-.675-.163-2.203-7.795-2.147-5.134.037-9.652-.871-15.015-.208-1.648.204-3.544-.149-5.317-.253-9.227-.536-9.371-.525-15.943 1.022-6.605-1.033-14.06-1.331-22.379-.846-1.929.113-2.701-.123-3.59-.345.177-.046.523-.099.484-.138-.111-.121-.582-.116-1.19.006-3.904.436-7.063 1.227-12.622.348-3.263-.518-8.56-.144-12.942-.48-3.021-.231-6.48.233-6.284 1.053 1.739.459 2.688.93.732 1.541-.359-.567-.654-1.04-.948-1.513-3.649-.587-8.403-.846-12.517-1.28-6.212-.655-13.465-.489-19.455.426l-.706.082.595-.106c-1.511-.356-4.002-.659-5.834-.427-6.624.839-12.713.036-19.01-.076-1.766-.408-3.545-.351-5.336-.005-2.839.004-5.677.008-8.515.01-1.288-.144-1.589-.104-.778.14-.288.125-.785.361-.844.357-8.102-.489-16.185-.884-24.386-.063-3.597-.759-6.232-.452-8.626.245-.255.076-1.131.146-1.595.125-17.991-.824-26.885-.888-39.12-.27-1.073.053-2.871.193-3.159.127-2.969-.703-5.369-.506-9.659-.249-2.956.176-7.534-.287-11.17.314-1.177.193-2.949.018-4.244-.14-7.553-.923-15.237-.827-23.582-.311-3.06.189-7.37.21-10.862-.148.196-.043.582-.093.549-.129-.111-.119-.549-.11-1.118.023-4.977-.072-10.705.559-14.642-.528-.275-.076-2.021-.078-2.04-.065-1.982 1.359-8.548.075-12.772.757-3.663.592-10.457-.454-15.336-.212-6.971.346-14.557-.346-20.985.523-.471.063-1.589.044-2.165-.014-7.73-.799-16.951.133-24.726-.729-1.766-.196-4.565-.217-6.703-.142-12.288.427-24.779.084-37.184.408-6.749.177-14.303-.027-21.202-.173-6.18-.13-11.994.044-17.951.02-12.033-.049-24.066.104-36.112-.082-5.591-.085-11.438.04-16.892.167-17.604.411-35.268.551-52.918.592-14.466.035-28.434.592-42.612.868-15.041.292-28.552 1.382-42.965 1.94-2.217.085-4.545.185-6.475.389-4.878.514-4.728 1.471.288 1.929 2.001.184 4.421.371 6.54.335 15.636-.27 31.128.168 46.679.283 22.784.169 45.359-.419 68.052-.504 29.755-.114 59.34-.708 89.278-.504 18.9.129 38.152-.092 57.196-.019 15.126.057 30.35-.175 45.45.322 10.921.361 21.816-.337 32.861-.17 35.484.532 71.073.004 106.596.294 27.159.222 54.318-.062 81.477-.05 17.435.007 34.876.382 52.304.345 15.257-.031 30.566-.035 45.771.02 25.936.094 51.976-.333 77.847.336 3.773.098 7.638.101 11.464.102 32.031.016 64.121-.19 96.086.085 36.184.309 72.374.154 108.499.415 19.004.136 38.139.053 56.986.416 21.008.404 42.128.031 62.908.456 23.6.483 47.32.509 70.85.622 41.9.2 83.75.739 125.69.698 6.32-.005 12.82.272 19.34.271 6.14-.001 11.83-.066 17.48-.712 7.09-.809 22.11-1.993 14.86-1.993-13.62.001-20.21-2.073-33.78-2.445z"></path>
									</g>
								</svg>
							</ul>
						</div>
					</motion.div>

					{/* --- RIGHT COLUMN (FORM) --- */}
					<motion.div
						initial={{ opacity: 0, x: 50 }}
						animate={{ opacity: 1, x: 0 }}
						transition={{ duration: 0.6 }}
						className="w-full"
					>
						<div className="relative shadow-xl rounded-3xl backdrop-blur-2xl bg-white/60 p-10 space-y-8 border border-white/50 z-20">
							<h3 className="text-2xl font-semibold text-gray-800">
								Get in Touch
							</h3>

							<form ref={formRef} onSubmit={sendEmail} className="space-y-6">
								<input
									type="hidden"
									name="dynamic_message"
									value={currentReplyMessage}
								/>

								<div className="relative group">
									<div className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-violet-500 transition-colors pointer-events-none">
										<MessageCircleQuestionMark size={20} />
									</div>

									<select
										required
										name="subject"
										onChange={handleChange}
										defaultValue=""
										className={`bricolage-grotesque w-full pl-10 py-4 rounded-xl bg-white/70 border border-gray-200 outline-none appearance-none transition-all cursor-pointer focus:border-purple-400 focus:ring-4 focus:ring-purple-100
        ${form.subject ? "text-purple-700 font-semibold" : "text-gray-400"}
        `}
									>
										<option value="" disabled className="bricolage-grotesque">
											What brings you here?
										</option>
										<option
											value="support"
											className="text-gray-900 bricolage-grotesque"
										>
											I need help / Support
										</option>
										<option
											value="bug"
											className="text-gray-900 bricolage-grotesque"
										>
											I found a bug
										</option>
										<option
											value="feature"
											className="text-gray-900 bricolage-grotesque"
										>
											I have a feature request
										</option>
										<option
											value="love"
											className="text-gray-900 bricolage-grotesque"
										>
											Just sending some love!
										</option>
										<option
											value="other"
											className="text-gray-900 bricolage-grotesque"
										>
											Something else
										</option>
									</select>

									<div className="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500">
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="20"
											height="20"
											viewBox="0 0 24 24"
											fill="none"
											stroke="currentColor"
											strokeWidth="2"
											strokeLinecap="round"
											strokeLinejoin="round"
										>
											<path d="m6 9 6 6 6-6" />
										</svg>
									</div>
								</div>
								<div className="relative group">
									<User className="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-purple-500 transition-colors" />
									<input
										required
										name="user_name"
										type="text"
										placeholder="Your Name"
										onChange={handleChange}
										className="w-full pl-10 py-4 rounded-xl bg-white/70 border border-gray-200 focus:border-purple-400 focus:ring-4 focus:ring-purple-100 outline-none transition-all"
									/>
								</div>

								<div className="relative group">
									<Mail className="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-purple-500 transition-colors" />
									<input
										required
										name="user_email"
										type="email"
										placeholder="Your Email"
										onChange={handleChange}
										className="w-full pl-10 py-4 rounded-xl bg-white/70 border border-gray-200 focus:border-violet-400 focus:ring-4 focus:ring-violet-100 outline-none transition-all"
									/>
								</div>

								<div className="relative group">
									<MessageSquare className="w-5 h-5 absolute left-3 top-4 text-gray-400 group-focus-within:text-violet-500 transition-colors" />
									<textarea
										required
										name="message"
										placeholder="How can we help?"
										onChange={handleChange}
										className="w-full pl-10 py-4 h-40 rounded-xl bg-white/70 border border-gray-200 focus:border-violet-400 focus:ring-4 focus:ring-violet-100 outline-none resize-none transition-all"
									/>
								</div>

								<button
									type="submit"
									disabled={loading}
									className="cursor-pointer w-full py-4 rounded-xl text-lg font-bold bg-gradient-to-r from-violet-600 to-violet-400 text-white shadow-lg hover:shadow-violet-500/30 hover:scale-[1.02] transition-all flex items-center justify-center gap-2"
								>
									{loading ? (
										"Sending..."
									) : (
										<>
											Send Message <Send className="w-4 h-4" />
										</>
									)}{" "}
								</button>
							</form>
						</div>

						<div className="flex items-center w-full my-6">
							<div className="h-px bg-gray-300 flex-1 opacity-50" />
							<span className="px-4 text-gray-500 text-sm font-semibold tracking-wider">
								OR
							</span>
							<div className="h-px bg-gray-300 flex-1 opacity-50" />
						</div>

						<div className="w-full bg-white/60 backdrop-blur-md border border-white/50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300 relative z-20">
							<div className="flex items-start gap-4">
								<div className="p-3 bg-violet-100 rounded-xl shrink-0">
									<MessageCircleQuestionMark className="w-6 h-6 text-violet-600" />
								</div>
								<div>
									<h3 className="font-bold text-slate-900 text-lg">
										Have a question?
									</h3>
									<p className="text-slate-600 text-sm mt-1 mb-3 leading-relaxed">
										Check FAQs from our Help Center for instant answers about
										payments, refunds, and bookings.
									</p>
									<Link
										to="/help"
										className="inline-flex items-center gap-2 text-sm font-bold text-violet-700 hover:text-violet-900 transition-colors group"
									>
										Visit Help Center
										<ArrowRight className="w-4 h-4 group-hover:translate-x-1 transition-transform" />
									</Link>
								</div>
							</div>
						</div>
					</motion.div>
				</div>
			</div>
		</>
	);
}
